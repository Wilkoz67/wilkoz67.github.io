<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dla Kingi ğŸ’–</title>

  <style>
    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(135deg, #ff9a9e, #fad0c4);
      font-family: Arial, sans-serif;
      transition: background 0.5s ease;
    }

    .card {
      background: white;
      padding: 25px 20px;
      border-radius: 20px;
      text-align: center;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      width: 90%;
      max-width: 420px;
    }

    h1 {
      color: #ff4d6d;
      font-size: 22px;
      margin-bottom: 15px;
    }

    p {
      font-size: 18px;
      margin-bottom: 20px;
    }

    button {
      width: 100%;
      padding: 14px;
      margin: 8px 0;
      font-size: 16px;
      border-radius: 30px;
      border: none;
      cursor: pointer;
      transition: 0.3s;
    }

    .yes { background:#ff4d6d; color:white; }
    .no  { background:#ddd; }

    .option { background:#f2f2f2; }
    .option.correct { background:#4caf50; color:white; }
    .option.wrong { background:#e53935; color:white; }

    .next {
      background:#667eea;
      color:white;
      margin-top:15px;
    }
  </style>
</head>

<body>

<div class="card" id="app"></div>

<script>
/* ---------------- START SCREEN ---------------- */

const app = document.getElementById("app");

function startScreen() {
  app.innerHTML = `
    <h1>ğŸ’– Dla najpiÄ™kniejszej Kingi ğŸ’–</h1>
    <p>UÅ›miechniesz siÄ™ dziÅ› razem ze mnÄ…? ğŸ™‚</p>
    <button class="yes" id="yes">TAK ğŸ’•</button>
    <button class="no" id="no">NIE ğŸ˜„</button>
  `;

  const yes = document.getElementById("yes");
  const no  = document.getElementById("no");

  function moveNo() {
    no.style.position = "fixed";
    no.style.left = Math.random() * (window.innerWidth - no.offsetWidth) + "px";
    no.style.top  = Math.random() * (window.innerHeight - no.offsetHeight) + "px";
  }

  no.addEventListener("mouseover", moveNo);
  no.addEventListener("touchstart", e => { e.preventDefault(); moveNo(); });

  yes.onclick = startQuiz;
}

/* ---------------- QUIZ DATA ---------------- */

const quiz = [
  {
    q: "KtÃ³rego dnia siÄ™ poznaliÅ›my? ğŸ’­",
    options: ["27 listopada", "28 listopada"],
    correct: [0]
  },
  {
    q: "Jaka byÅ‚a Twoja pierwsza fraza w moim Mercedesie? ğŸš—",
    options: ["Patrz, jakie Å‚adne buty", "Ja sprawdzam", "JedÅº szybciej"],
    correct: [1]
  },
  {
    q: "W ktÃ³ry policzek CiÄ™ pocaÅ‚owaÅ‚em? ğŸ’‹",
    options: ["Prawy", "Lewy"],
    correct: [1]
  },
  {
    q: "Z jakiej mojej frazy Å›miaÅ‚aÅ› siÄ™ do Å‚ez? ğŸ˜‚",
    options: [
      "Ja zadbaÅ‚bym za Wami chodziÄ‡",
      "ZapomniaÅ‚em gdzie stoi samochÃ³d",
      "U mnie co, uszy brudne?"
    ],
    correct: [2]
  },
  {
    q: "Gdzie najbardziej chcieliÅ›my pojechaÄ‡? âœˆï¸",
    options: ["BiaÅ‚ystok", "MiÅ„sk", "KijÃ³w", "Warszawa"],
    correct: [1]
  },
  {
    q: "Jaka jest Twoja ulubiona fraza do mnie? ğŸ˜„",
    options: ["ZÅ‚otek", "Debil", "Halo"],
    correct: [1]
  },
  {
    q: "Co powiedziaÅ‚aÅ›, gdy poznaÅ‚aÅ› mÃ³j znak zodiaku? â™Œ",
    options: ["Afigienno", "Prikolno", "NajwaÅ¼niejsze, Å¼e nie Lew", "Nic"],
    correct: [2]
  },
  {
    q: "Co najbardziej Ci siÄ™ we mnie podoba? ğŸ˜ (zaznacz wszystko)",
    options: ["Figura", "Twarz", "Oczy", "Humor"],
    correct: [0,1,2,3],
    multi: true
  },
  {
    q: "Jaka cecha charakteru podoba mi siÄ™ w Tobie najbardziej? ğŸ’–",
    options: ["EnergicznoÅ›Ä‡", "ÅšmiaÅ‚oÅ›Ä‡", "WytrwaÅ‚oÅ›Ä‡", "Szacunek"],
    correct: [3]
  },
  {
    q: "Spontaniczny wyjazd czy zaplanowany? ğŸŒ",
    options: ["Spontaniczny", "Zaplanowany"],
    correct: [] // Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Ğ²Ñ‹Ğ±Ğ¾Ñ€
  }
];

let index = 0;
let selected = [];

/* ---------------- QUIZ LOGIC ---------------- */

function startQuiz() {
  document.body.style.background =
    "linear-gradient(135deg,#667eea,#764ba2)";
  index = 0;
  renderQuestion();
}

function renderQuestion() {
  selected = [];
  const q = quiz[index];

  let html = `<p>${q.q}</p>`;
  q.options.forEach((opt,i)=>{
    html += `<button class="option" data-i="${i}">${opt}</button>`;
  });

  app.innerHTML = html;

  document.querySelectorAll(".option").forEach(btn=>{
    btn.onclick = () => selectOption(btn);
  });
}

function selectOption(btn) {
  const q = quiz[index];
  const i = Number(btn.dataset.i);

  if(q.multi){
    btn.classList.toggle("correct");
    selected.includes(i) ? selected.splice(selected.indexOf(i),1) : selected.push(i);
  } else {
    checkAnswer([i]);
  }

  if(q.multi){
    if(selected.length === q.correct.length){
      checkAnswer(selected);
    }
  }
}

function checkAnswer(ans){
  const q = quiz[index];
  document.querySelectorAll(".option").forEach((b,i)=>{
    if(q.correct.includes(i)) b.classList.add("correct");
    else if(ans.includes(i)) b.classList.add("wrong");
    b.disabled = true;
  });

  app.innerHTML += `<button class="next" onclick="next()">Dalej â¡ï¸</button>`;
}

function next(){
  index++;
  if(index < quiz.length) renderQuestion();
  else finish();
}

function finish(){
  app.innerHTML = `
    <h1>âœ¨ Koniec âœ¨</h1>
    <p>MaÅ‚a podrÃ³Å¼ przez nasze wspomnienia ğŸ˜Š</p>
  `;
}

/* ---------------- INIT ---------------- */

startScreen();
</script>

</body>
</html>
